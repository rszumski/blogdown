<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>The Flow of People</title>
  <meta property="og:title" content="The Flow of People" />
  <meta name="twitter:title" content="The Flow of People" />
  <meta name="description" content="There has been a lot of talk about immigration lately. President Trump balked at an immigration deal that would include protections for people from Haiti and nations in Africa, demanding to know at a White House meeting why he should accept immigrants from “shithole countries” rather than from places like Norway, according to people with direct knowledge of the conversation.
What percent of people that come to the US come from “shithole countries”?">
  <meta property="og:description" content="There has been a lot of talk about immigration lately. President Trump balked at an immigration deal that would include protections for people from Haiti and nations in Africa, demanding to know at a White House meeting why he should accept immigrants from “shithole countries” rather than from places like Norway, according to people with direct knowledge of the conversation.
What percent of people that come to the US come from “shithole countries”?">
  <meta name="twitter:description" content="There has been a lot of talk about immigration lately. President Trump balked at an immigration deal that would include protections for people from Haiti and nations in Africa, demanding to know at a …">
  <meta name="author" content="Russell Szumski"/>
  <link href='/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/avatar-icon.png" />
  <meta name="twitter:image" content="/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="/post/migration/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="szumskiR" />

  <meta name="generator" content="Hugo 0.31.1" />
  <link rel="canonical" href="/post/migration/" />
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="szumskiR">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="/css/codeblock.css" />
  <link rel="stylesheet" href="/css/highlight.min.css" />




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">szumskiR</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="szumskiR" href="/">
            <img class="avatar-img" src="/img/avatar-icon.png" alt="szumskiR" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>The Flow of People</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on January 15, 2018
  
  
  &nbsp;|&nbsp;
  <i class="fa fa-clock-o"></i> 4 minutes (727 words)
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/pymjs/pym.v1.js"></script>
<script src="/rmarkdown-libs/widgetframe-binding/widgetframe.js"></script>


<p>There has been a lot of talk about immigration lately. President Trump balked at an immigration deal that would include protections for people from Haiti and nations in Africa, demanding to know at a White House meeting why he should accept immigrants from “shithole countries” rather than from places like Norway, according to people with direct knowledge of the conversation.</p>
<p>What percent of people that come to the US come from “shithole countries”? What percent actual come from Norway? Of the people that migrate to the US, what countries are most people coming from?</p>
<p>Lets answers these questions by looking at the data. <a href="http://www.global-migration.info/">THE GLOBAL FLOW OF PEOPLE</a> is a dataset that contains the bilateral migration flows between and within regions for five-year periods, 1990 to 2010.</p>
<pre><code>## Observations: 38,416
## Variables: 16
## $ region_orig      &lt;fctr&gt; North America, North America, North America,...
## $ region_orig_id   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
## $ region_dest      &lt;fctr&gt; North America, North America, North America,...
## $ region_dest_id   &lt;int&gt; 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ...
## $ country_orig     &lt;fctr&gt; Canada, Canada, United States, United States...
## $ country_orig_id  &lt;fctr&gt; CAN, CAN, USA, USA, CAN, CAN, CAN, CAN, CAN,...
## $ country_dest     &lt;fctr&gt; Canada, United States, Canada, United States...
## $ country_dest_id  &lt;fctr&gt; CAN, USA, CAN, USA, AGO, BDI, BEN, BFA, BWA,...
## $ regionflow_1990  &lt;int&gt; 57617, 57617, 57617, 57617, 103553, 103553, 1...
## $ regionflow_1995  &lt;int&gt; 191071, 191071, 191071, 191071, 15550, 15550,...
## $ regionflow_2000  &lt;int&gt; 84668, 84668, 84668, 84668, 35446, 35446, 354...
## $ regionflow_2005  &lt;int&gt; 96102, 96102, 96102, 96102, 63080, 63080, 630...
## $ countryflow_1990 &lt;int&gt; 0, 1509, 56108, 0, 1831, 0, 21, 669, 225, 73,...
## $ countryflow_1995 &lt;int&gt; 0, 190436, 635, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0,...
## $ countryflow_2000 &lt;int&gt; 0, 238, 84430, 0, 68, 0, 0, 0, 34, 4, 0, 0, 0...
## $ countryflow_2005 &lt;int&gt; 0, 28, 96074, 0, 20, 2121, 0, 0, 30, 11, 0, 0...</code></pre>
<p>To go this let’s: - calculate the total flow of people over the entire period - select the United States as the country destination - select the fields I’ll need</p>
<pre class="r"><code>df &lt;- df %&gt;%
  mutate(flow = rowSums(.[15:16])) %&gt;%
  filter(country_dest == &#39;United States&#39;) %&gt;%
  mutate_if(is.factor, as.character) %&gt;%
  select(country_dest, region_orig ,country_orig, flow)</code></pre>
<p>I’ll be using the sunburstR package to make a plot to the data. I order the do that we need to set up the data in a sunburst-able sequence. We’ll have four different levels, so I’ll need four different sequences.</p>
<ol style="list-style-type: decimal">
<li>United States -&gt; “shithole” countries -&gt; Haiti</li>
<li>United States -&gt; “shithole” countries -&gt; Africa</li>
<li>United States -&gt; Not “shithole” countries -&gt; Africa -&gt; African countries</li>
<li>United States -&gt; Not “shithole” countries -&gt; those countries</li>
</ol>
<pre class="r"><code>shithole &lt;- df %&gt;%
  filter(region_orig == &#39;Africa&#39; | country_orig == &#39;Haiti&#39;) %&gt;%
  mutate(x = rep(&#39;&quot;shithole&quot; countries&#39;,nrow(.))) %&gt;%
  unite(event, country_dest, x, sep = &#39;-&#39;) %&gt;%
  rename(count = flow)


shithole_Africa &lt;- shithole %&gt;%
  filter(region_orig == &#39;Africa&#39;) %&gt;%
  unite(event, event, region_orig, country_orig, sep = &#39;-&#39;) %&gt;%
  rename(count = count) %&gt;%
  mutate(depth = rep(4,nrow(.))) 

shithole_Haiti &lt;- shithole %&gt;%
  filter(country_orig == &#39;Haiti&#39;) %&gt;%
  unite(event, event, country_orig, sep = &#39;-&#39;) %&gt;%
  rename(count = count) %&gt;%
  mutate(depth = rep(3,nrow(.))) %&gt;%
  .[,-2]


NonShithole &lt;- df %&gt;%
  filter(region_orig != &#39;Africa&#39; &amp; country_orig != &#39;Haiti&#39;) %&gt;%
  mutate(x = rep(&#39;Not &quot;shithole&quot; countries&#39;,nrow(.))) %&gt;%
  unite(event, country_dest, x, country_orig,sep = &#39;-&#39;) %&gt;%
  rename(count = flow) %&gt;%
  mutate(depth = rep(3,nrow(.))) %&gt;%
  .[,-2]</code></pre>
<p>Combine the sequence data frames together, and plot</p>
<pre class="r"><code>df_sunburst &lt;- rbind(NonShithole, shithole_Africa, shithole_Haiti)

df_sunburst %&gt;%
  arrange(desc(depth), desc(count), event) %&gt;%
  sunburst()</code></pre>
<div id="htmlwidget-1" style="width:95%;height:400px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"/post/Migration_files/figure-html//widgets/widget_unnamed-chunk-5.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p>Questions: What percent of people that come to the US come from “shithole countries”? What percent come from places like Norway? Of the people that migrate to the US, what countries are most people coming from?</p>
<p>Answers: From 1990 to 2010, of the total flow of people into the United States, just over 7% come from “shithole countries”. The amount of people from Norway was so insignificant it extreme hard to see on the graph (it’s 0.0004%) and the large majority for people are coming from Mexico, making up 31%, followed by China and India with around 9% each.</p>
<p>Tools: R</p>
<p>Data Source: <a href="http://www.global-migration.info/">THE GLOBAL FLOW OF PEOPLE</a> The data is the bilateral migration flows between and within regions for five-year periods, 1990 to 2010.</p>
<p>Large view: <a href="http://rpubs.com/rszumski/354715">Link</a></p>

      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="/post/ramen-bigrams/" data-toggle="tooltip" data-placement="top" title="Instant Ramen">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="/post/text-generator/" data-toggle="tooltip" data-placement="top" title="Infinite Monkey vs. R">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:rszumski@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/rszumski" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/russell-szumski-0381281a/" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Russell Szumski
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="/">szumskiR</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.31.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>






  </body>
</html>

